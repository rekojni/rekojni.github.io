document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("dynamic-title");if(e){const t=["Strategic Business Planning","Digital Business Professional","Banking Specialist","Process Optimization Expert"];let n=0,o=!1,i=100,s=50,a=1800,r=500;function l(){const c=t[n],d=e.textContent.length;let m;o?(e.textContent=c.slice(0,d-1),m=s,""===e.textContent&&(o=!1,n=(n+1)%t.length,m=r)):(e.textContent=c.slice(0,d+1),m=i,e.textContent===c&&(o=!0,m=a)),setTimeout(l,m)}l()}const t=document.querySelector(".navbar.fixed-top"),n=t?t.offsetHeight:0,o=document.getElementById("navbarNav");function i(e){const t=document.getElementById(e);t&&window.scrollTo({top:t.offsetTop-n,behavior:"smooth"})}document.querySelectorAll("a.nav-link").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),s=o&&o.classList.contains("show"),a=o&&o.contains(this);if(s&&a){const e=bootstrap.Collapse.getInstance(o);e?e.hide()&&setTimeout(()=>{i(t)},360):i(t)}else i(t)})});const s=document.getElementById("contactForm");s&&s.addEventListener("submit",function(e){e.preventDefault(),fetch(s.action,{method:"POST",body:new FormData(s),headers:{Accept:"application/json"}}).then(e=>{e.ok?(alert("Thanks for your message! I will get back to you soon."),s.reset()):e.json().then(e=>{console.error("Form submission error:",e),alert("Oops! There was a problem submitting your form. Please try again.")}).catch(e=>{console.error("Form submission error, non-JSON response:",e),alert("Oops! There was a problem submitting your form. Please try again.")})}).catch(e=>{console.error("Network error during form submission:",e),alert("Oops! There was a network problem submitting your form. Please check your connection and try again.")})});const a=document.getElementById("back-to-top-btn"),r=200;a&&(window.addEventListener("scroll",()=>{window.pageYOffset>r||document.documentElement.scrollTop>r?a.classList.add("show"):a.classList.remove("show")}),a.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}));const l=document.getElementById("form-feedback");s&&l&&s.addEventListener("submit",function(e){e.preventDefault(),l.innerHTML="";const t=s.querySelector('button[type="submit"]'),n=t.innerHTML;t.disabled=!0,t.innerHTML="Sending...",fetch(s.action,{method:"POST",body:new FormData(s),headers:{Accept:"application/json"}}).then(e=>{if(e.ok)l.innerHTML='<div class="alert alert-success alert-dismissible fade show" role="alert">Thanks for your message! I will get back to you soon.<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',s.reset();else{e.json().then(e=>{let t="Oops! There was a problem submitting your form.";e&&e.errors&&(t+=` Error: ${e.errors.map(e=>e.message).join(", ")}`),l.innerHTML=`<div class="alert alert-danger alert-dismissible fade show" role="alert">${t}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>`}).catch(()=>{l.innerHTML='<div class="alert alert-danger alert-dismissible fade show" role="alert">Oops! An unknown error occurred. Please try again.<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'})}}).catch(e=>{console.error("Form submission network error:",e),l.innerHTML='<div class="alert alert-danger alert-dismissible fade show" role="alert">Oops! A network error occurred. Please check your connection and try again.<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'}).finally(()=>{t.disabled=!1,t.innerHTML=n})});window.location.hash&&setTimeout(()=>{const e=window.location.hash.substring(1),t=document.getElementById(e);if(t){const e=document.querySelector(".navbar.fixed-top"),o=e?e.offsetHeight:0,i=t.offsetTop-o;document.documentElement.style.scrollBehavior="auto",window.scrollTo({top:i,behavior:"auto"}),document.documentElement.style.scrollBehavior=""}},10)});
